<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <link href="quiz.css" rel="stylesheet">
</head>
<body>
  <div class="bg-animada"></div>
  <div class="bg-img"></div>
  <div class="usuario-nome" id="usuario-nome" style="cursor:pointer;">
    <span class="perfil-icone">üë§</span>
    <span id="usuario-nome-texto"></span>
  </div>
  <div class="banner" id="banner"></div>
  <div class="pergunta" id="pergunta"></div>
  <div class="opcoes" id="opcoes"></div>
  <div class="resultado" id="resultado"></div>
  <!-- Pontua√ß√£o final aparece acima dos bot√µes, texto branco -->
  <div class="botoes-finais" id="botoes-finais" style="display:none; flex-direction:column; align-items:center;">
    <div id="pontuacao-final" style="font-size:1.4rem;color:#fff;margin-bottom:24px;text-align:center;width:100%;"></div>
    <!-- Bot√£o de curtir o quiz -->
    <button id="curtir-quiz-btn" style="margin-bottom:18px;font-size:1.1rem;padding:10px 26px;background:#8956ff;color:#fff;border:none;border-radius:10px;cursor:pointer;box-shadow:0 2px 8px rgba(80,34,178,0.08);font-family:'Montserrat',Arial,sans-serif;display:none;">
      <span id="curtir-quiz-icone">ü§ç</span> Curtir este quiz
    </button>
    <div style="display:flex;gap:30px;">
      <button onclick="verRanking()">Ver Ranking Global</button>
      <button onclick="irHome()">Voltar</button>
    </div>
  </div>
  <script src="quiz.js"></script>
  <script>
    // Exibe o bot√£o de curtir ao finalizar o quiz
    function mostrarBotaoCurtir() {
      const btn = document.getElementById('curtir-quiz-btn');
      const icone = document.getElementById('curtir-quiz-icone');
      btn.style.display = 'inline-block';

      // Verifica se j√° curtiu este quiz
      const categoria = new URLSearchParams(window.location.search).get('categoria') || 'filmes';
      const quizId = new URLSearchParams(window.location.search).get('quiz') || 'harrypotter';
      let curtidos = [];
      try { curtidos = JSON.parse(localStorage.getItem('quizzes_curtidos')) || []; } catch {}
      const jaCurtiu = curtidos.some(q => q.categoria === categoria && q.quiz === quizId);

      if (jaCurtiu) {
        btn.disabled = true;
        icone.textContent = "‚ù§Ô∏è";
        btn.innerHTML = '<span id="curtir-quiz-icone">‚ù§Ô∏è</span> Quiz curtido!';
      } else {
        btn.disabled = false;
        icone.textContent = "ü§ç";
        btn.innerHTML = '<span id="curtir-quiz-icone">ü§ç</span> Curtir este quiz';
      }

      btn.onclick = function() {
        if (btn.disabled) return;
        curtidos.push({
          categoria: categoria,
          quiz: quizId,
          data: new Date().toISOString()
        });
        localStorage.setItem('quizzes_curtidos', JSON.stringify(curtidos));
        btn.disabled = true;
        btn.innerHTML = '<span id="curtir-quiz-icone">‚ù§Ô∏è</span> Quiz curtido!';
      };
    }

    // Torna a fun√ß√£o global para ser chamada do quiz.js
    window.mostrarBotaoCurtir = mostrarBotaoCurtir;
  </script>
</body>
</html>
